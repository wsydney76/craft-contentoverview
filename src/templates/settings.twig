{% import '_includes/forms.twig' as forms %}

{% set fileConfig = craft.app.config.configFromFile('contentoverview') %}

{% set warning = 'This is already set in the config file and cannot be overwritten here.' %}


{{ forms.textField({
    first: true,
    label: 'Plugin Title',
    name: 'pluginTitle',
    value: settings.pluginTitle,
    instructions: 'The title used in headings and the primary navigation. Will be translated via the site translation category.',
    size: 30,
    warning: fileConfig.pluginTitle is defined ? warning,
    errors: settings.errors('pluginTitle')
}) }}

{{ forms.lightswitchField({
    label: 'Show link in Primary Navigation',
    name: 'enableNav',
    on: settings.enableNav,
    instructions: 'Show link in primary navigation?',
    warning: fileConfig.enableNav is defined ? warning,
    errors: settings.errors('enableNav')
}) }}

{{ forms.lightswitchField({
    label: 'Enable widgets',
    name: 'enableWidgets',
    on: settings.enableWidgets,
    instructions: 'Enable dashboard widgets that can show a single tab?',
    warning: fileConfig.enableWidgets is defined ? warning,
    errors: settings.errors('enableWidgets')
}) }}

{{ forms.selectField({
    label: 'Default layout',
    name: 'defaultLayout',
    value: settings.defaultLayout,
    instructions: 'The layout that will be used if not defined in the section config.',
    options: [
        {label: 'List', value: 'list'},
        {label: 'Cardlets', value: 'cardlets'},
        {label: 'Cards', value: 'cards'},
    ],
    warning: fileConfig.defaultLayout is defined ? warning,
    errors: settings.errors('defaultLayout')
}) }}


{{ forms.selectField({
    label: 'Link target',
    name: 'linkTarget',
    value: settings.linkTarget,
    instructions: 'Whether a edit page will be opened in a new tab.',
    options: [
        {label: 'Open in current tab', value: ''},
        {label: 'Open in new tab', value: '_blank'},
    ],
    warning: fileConfig.linkTarget is defined ? warning,
    errors: settings.errors('linkTarget')
}) }}

{{ forms.textField({
    label: 'Link Widget text',
    name: 'widgetText',
    value: settings.widgetText,
    instructions: 'The text displayed in the Link Widget. Will be translated via the site translation category.',
    size: 100,
    warning: fileConfig.widgetText is defined ? warning,
    errors: settings.errors('widgetText')
}) }}