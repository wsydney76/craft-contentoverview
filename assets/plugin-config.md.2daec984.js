import{_ as s,c as a,o as n,a as e}from"./app.7b688d6b.js";const l="/craft-contentoverview/assets/nav1.b3dde7a9.jpg",o="/craft-contentoverview/assets/nav2.6d3be975.jpg",p="/craft-contentoverview/assets/sidebar.3202791c.jpg",A=JSON.parse('{"title":"Plugin config","description":"","frontmatter":{},"headers":[{"level":2,"title":"Single Page Setup","slug":"single-page-setup","link":"#single-page-setup","children":[]},{"level":2,"title":"Multi Page Setup","slug":"multi-page-setup","link":"#multi-page-setup","children":[]},{"level":2,"title":"Widgets","slug":"widgets","link":"#widgets","children":[]}],"relativePath":"plugin-config.md"}'),t={name:"plugin-config.md"},r=e(`<h1 id="plugin-config" tabindex="-1">Plugin config <a class="header-anchor" href="#plugin-config" aria-hidden="true">#</a></h1><p>Create a file <code>contentoverview.php</code> in your config folder. See <a href="https://craftcms.com/docs/4.x/extend/plugin-settings.html#overriding-setting-values" target="_blank" rel="noreferrer">docs</a>.</p><p>Settings in alphabetical order:</p><ul><li>altTemplate (string, object template used to render the alt attribute of images, defaults to <code>{alt}</code>)</li><li>custom (array, can contain any data you want to use somewhere in your setup.)</li><li>customTemplatePath (string, folder for custom templates, defaults to _contentoverview)</li><li>defaultIcon (string, file path to a svg icon, defaults to @coicons/newspaper.svg)</li><li>defaultLayout (string, the layout that is used by default. list (default)|cardlets|cards|line)</li><li>defaultPage (string, page key for the first/only page. Defaults to &#39;default&#39;.)</li><li>enableCreateInSlideoutEditor (bool, whether new entries will be created in a slideout editor. Defaults to false on multi-site installs, else true. Experimental)</li><li>enableSlideoutEditor (bool, whether a slideout editor can be opened for an entry by a double click on the status indicator, or by clicking an icon/image. Experimental)</li><li>extraPermissions (array, adds permissions)</li><li>enableWidgets (bool, default true, enable dashboard widgets that display a single tab)</li><li>fallbackImage (Asset, an image that will be used in a layout if no image is set on an entry)</li><li>hideUnpermittedSections (bool, Whether to hide sections a user does not have view permission instead of displaying a message. May lead to ugly empty tabs.)</li><li>layoutSizes (array, which size is used by default for a layout)</li><li>layoutWidth (array, the grid column width for a layout size. Technically the <code>minmax</code> value for a <code>grid-template-columns</code> css directive.)</li><li>linkTarget (string, defaults to &#39;_blank&#39; to open edit screens in a new tab (default).)</li><li>loadSectionsAsync (bool, Whether to load section html via ajax request. Loads section content when it becomes visible.)</li><li>pluginTitle (string, label for primary navigation, page title. Defaults to &#39;Content Overview&#39;)</li><li>purifierConfig (string|array The html purifier config used to make output from object templates safe.)</li><li>replaceDashboard (bool Whether to remove dashboard link and redirect to contentoverview on login.)</li><li>showLoadingIndicator (bool, Whether to show a loading indicator/overlay while an ajax request is pending.)</li><li>showPages (string, default nav, where to show multiple pages: nav|sidebar|no)</li><li>transforms (array, image transforms for layouts)</li><li>useImagerX (bool, create image transforms with Imager-X plugin, if available. Defaults to true)</li><li>widgetText (string, text for dashboard link widget)</li></ul><p>Defaults are defined in <code>models\\Settings.php</code>.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">replaceDashboard</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">enableWidgets</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#89DDFF;">];</span></span>
<span class="line"></span></code></pre></div><h2 id="single-page-setup" tabindex="-1">Single Page Setup <a class="header-anchor" href="#single-page-setup" aria-hidden="true">#</a></h2><p>By default, a link to a single page is added to the navigation sidebar.</p><p><img src="`+l+`" alt="screenshot"></p><p>This requires a setup up file named after the <code>defaultPage</code> settings.</p><h2 id="multi-page-setup" tabindex="-1">Multi Page Setup <a class="header-anchor" href="#multi-page-setup" aria-hidden="true">#</a></h2><p>You can configure multiple pages by adding them to the <code>config/contenoverview/pages.php</code> file.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">wsydney76</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">contentoverview</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">services</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">ContentOverviewService</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ContentOverviewService</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// the page key, used for building the page url and for identifying the page in ajax requests</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">page1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Site/News</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">festival</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Festival</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">blocks</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">details</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">custom/festival_help</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">group</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">festivalAdmins</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">festivalEditors</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]),</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><p>defaultPage: the page that is initially selected. Usually the first one.</p><p>pages: an array of page configs</p><ul><li><p>label: Label for nav and page titles</p></li><li><p>group: this page should only be available for admins/members of this group/one of these groups. Can be a string (one group) or an array of group handles.</p></li><li><p>permission: this page should only be available for admins/users with this permission.</p></li><li><p>blocks: array of templates that will be rendered inside a Control Panel twig block area. See Templates chapter below.</p></li></ul><p>By default, multiple pages are display as subNav:</p><p><img src="`+o+`" alt="screenshot"></p><p>Alternatively, the pages can be displayed in the sidebar.</p><p>Set the <code>showPage</code> plugin setting to &#39;sidebar&#39;.</p><p>This is more consistent with the rest of the CP and is more convenient when many pages are displayed and grouping is useful , however it consumes more space.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">showPages</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sidebar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><p>Heading rows (page groups) and icons can be added to the config in <code>config/contentoverview/pages.php</code>:</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPageGroup</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Workflow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">page2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Needs attention!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">icon</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@appicons/clock.svg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p><img src="`+p+`" alt="Screenshot"></p><h2 id="widgets" tabindex="-1">Widgets <a class="header-anchor" href="#widgets" aria-hidden="true">#</a></h2><p>A single tab can be used as dashboard widget.</p><p>Define them in a special <code>config/contentoverview/widgets.php</code> page config file.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">wsydney76</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">contentoverview</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">services</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">ContentOverviewService</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ContentOverviewService</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tabs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createTab</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Site</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">require</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tab1.php</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createTab</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">News</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">require</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tab2.php</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div>`,29),c=[r];function i(D,y,F,d,g,C){return n(),a("div",null,c)}const h=s(t,[["render",i]]);export{A as __pageData,h as default};
