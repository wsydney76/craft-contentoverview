import{_ as s,c as a,o as n,a as e}from"./app.b2454dbc.js";const p="/craft-contentoverview/assets/nav1.b3dde7a9.jpg",l="/craft-contentoverview/assets/nav2.6d3be975.jpg",o="/craft-contentoverview/assets/sidebar.3202791c.jpg",A=JSON.parse('{"title":"Pages Setup","description":"","frontmatter":{},"headers":[{"level":2,"title":"Single Page Setup","slug":"single-page-setup","link":"#single-page-setup","children":[]},{"level":2,"title":"Multi Page Setup","slug":"multi-page-setup","link":"#multi-page-setup","children":[{"level":3,"title":"Settings","slug":"settings","link":"#settings","children":[]},{"level":3,"title":"Show page links","slug":"show-page-links","link":"#show-page-links","children":[]}]},{"level":2,"title":"Dynamic pages","slug":"dynamic-pages","link":"#dynamic-pages","children":[]}],"relativePath":"config/pages-setup.md"}'),t={name:"config/pages-setup.md"},c=e('<h1 id="pages-setup" tabindex="-1">Pages Setup <a class="header-anchor" href="#pages-setup" aria-hidden="true">#</a></h1><h2 id="single-page-setup" tabindex="-1">Single Page Setup <a class="header-anchor" href="#single-page-setup" aria-hidden="true">#</a></h2><p>By default, a link to a single page is added to the navigation sidebar.</p><p><img src="'+p+`" alt="screenshot"></p><p>This requires a config file named after the <a href="./plugin-config.html#defaultpage">defaultPage</a> plugin setting, e.g. <code>config/contentoverview/default.php</code>.</p><h2 id="multi-page-setup" tabindex="-1">Multi Page Setup <a class="header-anchor" href="#multi-page-setup" aria-hidden="true">#</a></h2><p>You can configure multiple pages by adding them to the <code>config/contenoverview/pages.php</code> file.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">wsydney76</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">contentoverview</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Plugin</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Plugin</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#A6ACCD;">contentoverview</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">page1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Site/News</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">festival</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Festival</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">blocks</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">details</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">custom/festival_help</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">group</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">festivalAdmins</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">festivalEditors</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]),</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Runing <code>php craft contentoverview/create/pages</code> will create this file as a starting point for you.</p></div><h3 id="settings" tabindex="-1">Settings <a class="header-anchor" href="#settings" aria-hidden="true">#</a></h3><p>The <code>createPage</code> method is called with a <code>pageKey</code> parameter, which is used to build the URL of the page (e.g. <code>/admin/contentoverview/festival</code>) and internally to identify the page in ajax request.</p><p>Other settings for the page object:</p><h4 id="label" tabindex="-1">label <a class="header-anchor" href="#label" aria-hidden="true">#</a></h4><ul><li>Type: <code>string</code></li></ul><p>Label for nav and page titles.</p><h4 id="group-permission" tabindex="-1">group/permission <a class="header-anchor" href="#group-permission" aria-hidden="true">#</a></h4><p>See <a href="./common.html">Common Settings</a></p><p>Restrict access to this page.</p><h4 id="blocks" tabindex="-1">blocks <a class="header-anchor" href="#blocks" aria-hidden="true">#</a></h4><ul><li>Type: <code>array</code></li></ul><p>Array of templates that will be rendered inside a Control Panel twig block area. See <a href="./../customize/templates.html">Templates</a>.</p><h3 id="show-page-links" tabindex="-1">Show page links <a class="header-anchor" href="#show-page-links" aria-hidden="true">#</a></h3><p>Where links to your subpages appear:</p><h4 id="subnav" tabindex="-1">Subnav <a class="header-anchor" href="#subnav" aria-hidden="true">#</a></h4><p>By default, multiple pages are displayed as subNav:</p><p><img src="`+l+`" alt="screenshot"></p><h4 id="sidebar" tabindex="-1">Sidebar <a class="header-anchor" href="#sidebar" aria-hidden="true">#</a></h4><p>Alternatively, the pages can be displayed in the sidebar.</p><p>Set the <a href="./plugin-config.html#showpages">showPages</a> plugin setting to &#39;sidebar&#39;.</p><p>This is more consistent with the rest of the CP and is more convenient when many pages are displayed and grouping is useful , however it consumes more space.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">showPages</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sidebar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><p>Heading rows (page groups) and icons can be added to the config in <code>config/contentoverview/pages.php</code>:</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPageGroup</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Workflow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createPage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">page2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Needs attention!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">icon</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@appicons/clock.svg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p><img src="`+o+`" alt="Screenshot"></p><h2 id="dynamic-pages" tabindex="-1">Dynamic pages <a class="header-anchor" href="#dynamic-pages" aria-hidden="true">#</a></h2><p>Pages can be called without being configured in the <code>pages</code> config file, e.g. <code>/contentoverview/package?elementId=1838</code>.</p><p>This can be used in actions, where you want to link to a page that shows specific content related to an entry.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createAction</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Details</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">icon</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@appicons/wand.svg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">cpUrl</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">contentoverview/package</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><p>You must setup your own <a href="./../dev/section.html">section class</a> to handle the query parameter and resulting queries.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// config/contentoverview/package.php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">wsydney76</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">contentoverview</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Plugin</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">wsydney76</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">package</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">models</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">PackageSection</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Plugin</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#A6ACCD;">contentoverview</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sections</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">co</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">createSection</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">PackageSection</span><span style="color:#89DDFF;">::</span><span style="color:#F78C6C;">class</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">section</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">news</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">];</span></span>
<span class="line"></span></code></pre></div><p>Query params will be passed through to ajax requests as <code>extraParams</code>.</p>`,41),r=[c];function D(i,F,y,d,g,h){return n(),a("div",null,r)}const u=s(t,[["render",D]]);export{A as __pageData,u as default};
